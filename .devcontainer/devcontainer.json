{
	"name": "knxrpc",
	"dockerComposeFile": "docker-compose.yml",
	"service": "workspace",
	"workspaceFolder": "/workspace",
	"remoteUser": "ubuntu",
	"containerUser": "ubuntu",
	"remoteEnv": {
		"EDITOR": "${localEnv:EDITOR}",
		"GOPRIVATE": "github.com/*",

		"LOG_FORMAT": "color",
		"LOG_LEVEL": "trace",
		"LOG_TIMEFORMAT": "03:04PM"
	},
	"onCreateCommand": "bash .devcontainer/post-install.sh",
	"postAttachCommand": "task envsetup",
	"features": {
		"ghcr.io/devcontainers/features/common-utils:2": {
			"configureZshAsDefaultShell": true,
			"installOhMyZsh": true,
			"upgradePackages": true,
			"username": "ubuntu",
			"uid": "1000",
			"gid": "1000"
		},
		"ghcr.io/devcontainers/features/git:1": {
			"version": "os-provided"
		},
		"ghcr.io/devcontainers/features/go:1": {
			"version": "1.25"
		},
		"ghcr.io/devcontainers/features/docker-in-docker:2": {
			"version": "latest"
		}
	},
	"forwardPorts": [
		8080 // workspace knxrpc
	],
	"portsAttributes": {
		"8080": {
			"label": "knxrpc",
			"onAutoForward": "notify"
		}
	},
	"customizations": {
		"vscode": {
			"settings": {
				"go.toolsManagement.checkForUpdates": "local",
				"go.useLanguageServer": true,
				"go.gopath": "/go"
			},
			"extensions": [
				"golang.go",
				"davidanson.vscode-markdownlint",
				"ms-azuretools.vscode-docker",
				"stkb.rewrap",
				"task.vscode-task",
				"zxh404.vscode-proto3",
				"bufbuild.vscode-buf",
				"earthly.earthfile-syntax-highlighting"
			]
		}
	}
}
